<!DOCTYPE HTML>
<html>
<head>
<title>One Piece eps</title>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
<style type="text/css">
	
	body {
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		font-family: Arial;
		background-color: lightblue;
	}
	p {
		color: white;
	}

	#bildefelt {
		z-index: 3; /* layerer headeren oppenfor epWeekFelt */
		top: 0px;
		position: absolute;
		height: auto;
		width: 100%;
		background-color: #e01d1d; /*mørk rød*/
		text-align: center;
	}

	#header {
		z-index: 2; /* gjemmer denne bak bildefeltet, så den bare kommer frem når en har scrolla forbi bildene. fortsatt over epWeekFelt*/
		top: 0px;
		width: 100%;
		height: 70px;
		background-color: #e01d1d; /*mørk rød*/
		text-align: center;
		position: fixed;
	}

	#wallpaperDiv {
		width: 1080px;
		height: 720px;
		position: fixed; /*gjer at bildet blir stille selv om en scroller*/
	}




	#epWeekFelt {
		z-index: 1; /* legger dette bak headeren*/
		top: 280px;
		position: absolute;
		width: 500px;
		height: auto;
		background: rgba(173, 216, 230, 0.5); /*setter bkg farge, og gjer at bare den blir gjennomsiktig, ikkje teksten*/ 
	}

	#epWeekFelt > table{
		border-collapse: collapse;
	}
	#epWeekFelt th, #epWeekFelt td {
		text-align: center; 
		border: 1px solid darkblue;
		margin: 0px;
		padding: 10px;
	}
	#epWeekFelt tr:hover {
		background-color: #f5f5f5;
	}

	#epWeekFelt th { /*gir 3d headeren en outline*/ 
		font-weight: bold;
		color: #fff;
		text-shadow: #000 0px 0px 1px,   #000 0px 0px 1px,   #000 0px 0px 1px,
		             #000 0px 0px 1px,   #000 0px 0px 1px,   #000 0px 0px 1px;
		-webkit-font-smoothing: antialiased;
	}

</style>
</head>
<body>
	<div id="wallpaperDiv"><img id="wallpaperImage" src=""></div>
	<div id="bildefelt">
		<img src="https://i.ibb.co/GkGgYrN/logo-downscaled.png" height="80px">
		<br>
		<img src="https://i.ibb.co/brP2HFb/bilde.jpg" height="100px">
		<br>
		<!-- keeper fortsatt teksten her, så den viser fra starten av, og gjør at det ser ut som teksten blir med videre ned -->
		<p>Scroll nedover for mer, 
		<br>
		Trykk CTRL + F og skriv inn veketal for å hoppe.</p>
		<br>
	</div>
	<div id="header">
		<p>Scroll nedover for mer,
		<br>
		Trykk CTRL + F og skriv inn veketal for å hoppe.</p>
	</div>
	<table id="epWeekFelt">
		<tr><th>Veke</th> <th>Eps</th></tr>
	</table>

<script type="text/javascript">
	//referanse
	var epWeekFelt = document.getElementById("epWeekFelt");
	//definerer globale variabler
	var epNr = 0;
	var ukeTeller = 10; //fortsetter videre etter 52 reset, for å få med 53 veke-år-
	var ukeNr = 10;
	var aarNr = 2020;


	function utskrift(){
		epWeekFelt.innerHTML += `<tr> <td><b>${ukeNr}</b> (${aarNr})</td> <td><b>${epNr}</b></td> <tr>`;
	}


	//såg 5ep/week første 2 veker, så adder det her
	epNr += 5+5;
	ukeNr += 1+1;
	ukeTeller += 1+1;
	utskrift();
	
	//calculater videre med 7eps/week
	for(i=0; i<(1500/7); i++) { //capper 1500 eps total, loopen kjører for så mange weeks det vil ta å se 1500.
		epNr += 7;
		ukeNr++;
		ukeTeller++;

		if (ukeTeller === 53) { // spesialtilfelle i 2020 der det er 53 veker.
			utskrift(); //skriv ut (med uke 53).
			ukeNr = 0; //resetter veka ETTER utskriften
			aarNr++; //plusser på år
		}
		else { //det som vanligvis vil kjøre.
			if(ukeNr === 53) { //viss ukenr er 53
				ukeNr = 1; //sett uke til 1, fordi begynner neste år
				aarNr++ //skifter til neste år
			}
			
			
			utskrift(); //utskrift som skjer uansett om ukenr === 53 eller ikkje.
		}
	}

	//henter wallpaper div og bilde
	var wallpaperDiv = document.getElementById("wallpaperDiv");
	var wallpaperImage = document.getElementById("wallpaperImage");
	function resizeWallpaper() {
		//setter wallpaperet til å fitte screen size. passer egentlig bare for pc rn tho, kan kanskje gjer at viss width < noge blir det andre ting, for å detecte phone.
		//resizer diven
		wallpaperDiv.style.width = window.innerWidth + "px";
		wallpaperDiv.style.height = window.innerHeight + "px";

		//resizer bildet
		wallpaperImage.style.width = window.innerWidth + "px";
		wallpaperImage.style.height = window.innerHeight + "px";
	}

	resizeWallpaper(); //kjører det med en gang, før noen resizer også.
	window.onresize = resizeWallpaper; //resizer etter width change, som gjer bakgrunnen flexibel.


	//pick random wallpaper
	//array som holder navn på alle wallpapers
	var wallpaperArray = ["going merry.png","baratie fanart.jpg","darker blue sea and sky.jpg","going merry cg.jpg","going merry simple.jpg","luffy and gang.jpg","sea and going merry moving.gif","sea and sky 2.jpg","sea and sky.jpg","sea and sky.jpg","sea moving.webp"];
	//rng, picker random tall fra 0 til array length-1 (siden flooring).
	var randomTallForWallpaperArray = Math.floor(Math.random()*wallpaperArray.length);

	wallpaperImage.src = "wallpapers/" + wallpaperArray[randomTallForWallpaperArray]; //skifter bildet her
</script>
</body>
</html>
